<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=twitter:card content="summary"><meta name=twitter:image content="https://aneesahammed.github.io/images/avatar.png"><meta name=twitter:title content="DIY home Security System with an Old iPhone"><meta name=twitter:description content="My neighborhood got hit by break-in attempts, so I turned an old iPhone 8 into a night-time security camera."><meta name=twitter:site content="@@aneesahammed"><meta name=twitter:creator content="@anees ahammed"><meta name=author content="anees ahammed"><meta name=description content="My ramblings, musings and thoughts"><meta name=generator content="Hugo 0.81.0"><title>DIY home Security System with an Old iPhone &#183; ^^</title><link rel="shortcut icon" href=https://aneesahammed.github.io/images/favicon.ico><link rel=stylesheet href=https://aneesahammed.github.io/css/style.css><link rel=stylesheet href=https://aneesahammed.github.io/css/highlight.css><link rel=stylesheet href=https://aneesahammed.github.io/css/font-awesome.min.css><link href=https://aneesahammed.github.io/index.xml rel=alternate type=application/rss+xml title=^^></head><body><nav class=main-nav><a href=https://aneesahammed.github.io/><span class=arrow>←</span>Home</a>
<a href=https://aneesahammed.github.io/posts>Archive</a>
<a href=https://aneesahammed.github.io/tags>Tags</a>
<a href=https://aneesahammed.github.io/about>About</a>
<a class=cta href=https://aneesahammed.github.io/index.xml>Subscribe</a></nav><section id=wrapper class=post><article><header><h1>DIY home Security System with an Old iPhone</h1><h2 class=headline>Nov 14, 2025 11:36
· 1150 words
· 6 minute read
<span class=tags><a href=https://aneesahammed.github.io/tags/development>development</a>
<a href=https://aneesahammed.github.io/tags/devops>devOps</a></span></h2></header><div id=toc><nav id=TableOfContents><ul><li><a href=#the-starting-point>The Starting Point</a></li><li><a href=#the-alfred-camera-disaster>The Alfred Camera Disaster</a></li><li><a href=#the-ivcam-false-hope>The iVCam False Hope</a></li><li><a href=#the-app-that-actually-worked-eventually>The App That Actually Worked (Eventually)</a></li><li><a href=#getting-frigate-running-on-mac-the-docker-adventure>Getting Frigate Running on Mac (The Docker Adventure)</a><ul><li><a href=#the-port-5000-conflict>The Port 5000 Conflict</a></li><li><a href=#the-config-that-actually-works>The Config That Actually Works</a></li></ul></li><li><a href=#making-it-actually-useful-the-python-script>Making It Actually Useful (The Python Script)</a></li><li><a href=#the-reality-check>The Reality Check</a></li><li><a href=#things-i-learned>Things I Learned</a></li><li><a href=#the-actual-docker-command-that-worked>The Actual Docker Command That Worked</a></li><li><a href=#was-it-worth-it>Was It Worth It?</a></li></ul></nav></div><section id=post-body><h1 id=building-a-diy-home-security-system-with-an-old-iphone-and-some-determination>Building a DIY Home Security System with an Old iPhone and Some Determination</h1><p>Look, I&rsquo;ll be honest with you - I was genuinely worried. Our new neighborhood has been seeing break-in attempts every other day. Car break-ins, people trying doorknobs at 2 AM&mldr; the whole deal. I needed something to monitor my driveway at night, and I needed it fast.</p><p>Commercial security cameras? They wanted €200+ per camera, plus subscription fees. Ring doorbell? Another subscription. I&rsquo;m a developer - I build complex systems for a living. Surely I could figure this out myself, right?</p><p>Narrator: <em>He struggled. A lot.</em></p><h2 id=the-starting-point>The Starting Point</h2><p>I had:</p><ul><li>A spare iPhone 8 gathering dust</li><li>A computer that was already running 24/7</li><li>Zero patience for overcomplicated setups</li><li>A very specific need: Alert me if someone&rsquo;s in my driveway between midnight and 5 AM</li></ul><p>How hard could it be?</p><h2 id=the-alfred-camera-disaster>The Alfred Camera Disaster</h2><p>First attempt: Alfred Camera. Beautiful UI, easy setup, works great&mldr; except it uses proprietary P2P streaming. No RTSP. No RTMP. No way for any real security system to actually <em>use</em> the feed.</p><p>Frigate (the open-source NVR I wanted to use) can&rsquo;t talk to Alfred. At all. It&rsquo;s like trying to plug a USB-A cable into a USB-C port - wrong protocol, won&rsquo;t work, end of story.</p><p><strong>Lesson learned:</strong> Just because an app says &ldquo;camera&rdquo; doesn&rsquo;t mean it plays nice with standard video protocols.</p><h2 id=the-ivcam-false-hope>The iVCam False Hope</h2><p>&ldquo;Try iVCam!&rdquo; everyone said. &ldquo;It does RTSP!&rdquo; they promised.</p><p>Installed it. Opened it. It showed my iPhone&rsquo;s IP address (192.168.1.64). Looking good!</p><p>Then&mldr; it just sat there. &ldquo;Searching for iVCam PC&mldr;&rdquo;</p><p>Turns out iVCam&rsquo;s free version needs their PC client running to create the RTSP stream. I don&rsquo;t want another piece of software. I just want a camera feed. Next.</p><h2 id=the-app-that-actually-worked-eventually>The App That Actually Worked (Eventually)</h2><p>After trying RTSP Stream (which crashed immediately on my old iPhone 8), I found <strong>Periscope HD</strong>.</p><p>Here&rsquo;s what nobody tells you about Periscope HD: When you first open it, it looks like it wants you to connect to a camera, not BE a camera. There are fields for username, password, RTSP URL&mldr;</p><p>I was confused for a solid 10 minutes until I found the tiny &ldquo;Stream&rdquo; button. Press that, and boom - your iPhone becomes an RTSP server.</p><p>The RTSP URL it gave me: <code>rtsp://192.168.1.64:10554/stream</code></p><p>Simple. Clean. Actually worked.</p><h2 id=getting-frigate-running-on-mac-the-docker-adventure>Getting Frigate Running on Mac (The Docker Adventure)</h2><p>Frigate is designed for Linux. I&rsquo;m running macOS. This should be fun.</p><p>First hallucination from my AI assistant: &ldquo;Pull this image - <code>ghcr.io/blakeblackshear/frigate:stable-arm64</code>&rdquo;</p><p>Me: <em>tries to pull image</em></p><p>Docker: <code>Error: not found</code></p><p>Turns out the correct image is just <code>ghcr.io/blakeblackshear/frigate:stable</code> - it&rsquo;s multi-arch and figures out you need ARM64 automatically.</p><p><strong>Pro tip:</strong> When someone (or an AI) gives you a Docker command, verify the tag actually exists before running it.</p><h3 id=the-port-5000-conflict>The Port 5000 Conflict</h3><p>Tried to run Frigate on port 5000. macOS said &ldquo;nope, something&rsquo;s already using that.&rdquo;</p><p>Tried to kill whatever was on port 5000. It just&mldr; came back. Like a zombie process.</p><p>Solution? Map a different port:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>-p 5001:5000  <span style=color:#75715e># Map Mac&#39;s 5001 to container&#39;s 5000</span>
-p 8971:8971  <span style=color:#75715e># For authenticated access</span>
</code></pre></div><h3 id=the-config-that-actually-works>The Config That Actually Works</h3><p>After several iterations of configs that didn&rsquo;t work, here&rsquo;s what finally did:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>mqtt</span>:
  <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>false</span>

<span style=color:#f92672>cameras</span>:
  <span style=color:#f92672>driveway</span>:
    <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>true</span>
    <span style=color:#f92672>ffmpeg</span>:
      <span style=color:#f92672>inputs</span>:
        - <span style=color:#f92672>path</span>: <span style=color:#ae81ff>rtsp://192.168.1.XX:8554/live.sdp</span>
          <span style=color:#f92672>roles</span>:
            - <span style=color:#ae81ff>detect</span>
            - <span style=color:#ae81ff>record</span>
    <span style=color:#f92672>detect</span>:
      <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>true</span>
      <span style=color:#f92672>width</span>: <span style=color:#ae81ff>1280</span>
      <span style=color:#f92672>height</span>: <span style=color:#ae81ff>720</span>

<span style=color:#f92672>detect</span>:
  <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>true</span>

<span style=color:#f92672>record</span>:
  <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>true</span>
  <span style=color:#f92672>retain</span>:
    <span style=color:#f92672>days</span>: <span style=color:#ae81ff>2</span>
    <span style=color:#f92672>mode</span>: <span style=color:#ae81ff>motion</span>

<span style=color:#f92672>snapshots</span>:
  <span style=color:#f92672>enabled</span>: <span style=color:#66d9ef>true</span>
  <span style=color:#f92672>retain</span>:
    <span style=color:#f92672>default</span>: <span style=color:#ae81ff>2</span>
</code></pre></div><p><img src=https://github.com/user-attachments/assets/4cbf5960-bf65-44d9-ad50-5189381f4fd3 alt></p><p>That&rsquo;s it. No fancy zones yet. No complex filters. Just a working camera feed with person detection.</p><h2 id=making-it-actually-useful-the-python-script>Making It Actually Useful (The Python Script)</h2><p>Frigate detects people. Great. But I needed it to:</p><ol><li>Only alert between midnight and 5 AM</li><li>Make enough noise to wake me up</li><li>Not spam me every 2 seconds</li></ol><p>Frigate doesn&rsquo;t do time-based alerting out of the box. So I wrote a simple Python script that:</p><ul><li>Polls Frigate&rsquo;s API every 2 seconds</li><li>Checks if it&rsquo;s between 12 AM - 5 AM</li><li>If person detected → plays alarm sounds on Mac</li><li>Has a 30-second cooldown so it doesn&rsquo;t go crazy</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>is_alert_time</span>():
    current_hour <span style=color:#f92672>=</span> datetime<span style=color:#f92672>.</span>now()<span style=color:#f92672>.</span>hour
    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&lt;=</span> current_hour <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>play_alarm</span>():
    subprocess<span style=color:#f92672>.</span>run([<span style=color:#e6db74>&#34;say&#34;</span>, <span style=color:#e6db74>&#34;-v&#34;</span>, <span style=color:#e6db74>&#34;Alex&#34;</span>, <span style=color:#e6db74>&#34;-r&#34;</span>, <span style=color:#e6db74>&#34;300&#34;</span>, 
                   <span style=color:#e6db74>&#34;Alert! Person detected in driveway!&#34;</span>])
    subprocess<span style=color:#f92672>.</span>run([<span style=color:#e6db74>&#34;afplay&#34;</span>, <span style=color:#e6db74>&#34;/System/Library/Sounds/Sosumi.aiff&#34;</span>])
</code></pre></div><p>Tested it by walking in front of the camera. My Mac screamed at me. Perfect.</p><h2 id=the-reality-check>The Reality Check</h2><p>After getting everything working, I realized: This iPhone 8 is going to be charging 24/7, running video encoding constantly, probably getting quite hot.</p><p>That&rsquo;s&mldr; a fire hazard.</p><p>So the next step? Get a proper outdoor IP camera. Reolink RLC-510A looks good - about €70 on Amazon.ie, native RTSP support, weatherproof, and it won&rsquo;t turn into a lithium fire hazard.</p><p>The iPhone proof-of-concept worked. Now it&rsquo;s time to make it actually safe and permanent.</p><h2 id=things-i-learned>Things I Learned</h2><ol><li><p><strong>RTSP is king</strong> - If your camera doesn&rsquo;t speak RTSP/RTMP/HTTP streams, it&rsquo;s useless for serious security setups.</p></li><li><p><strong>Docker tags lie</strong> - Or rather, documentation gets outdated. Always verify image tags exist before copy-pasting commands.</p></li><li><p><strong>Old hardware can work</strong> - My iPhone 8 from 2017 was perfectly capable of being a security camera. Just not permanently.</p></li><li><p><strong>AI assistants hallucinate</strong> - Whether it&rsquo;s suggesting non-existent Docker tags or apps that don&rsquo;t exist, always verify.</p></li><li><p><strong>Simple configs win</strong> - My first attempt had zones, filters, motion masks&mldr; and nothing worked. Stripped it down to basics, it worked immediately.</p></li></ol><h2 id=the-actual-docker-command-that-worked>The Actual Docker Command That Worked</h2><p>For anyone trying this on Mac:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker run -d <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  --name frigate <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  --restart<span style=color:#f92672>=</span>unless-stopped <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  -p 5001:5000 <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  -p 8971:8971 <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  -p 8554:8554 <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  -p 8555:8555/tcp <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  -p 8555:8555/udp <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  -v ~/frigate/storage:/media/frigate <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  -v ~/frigate/config:/config <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  -v /tmp/frigate-cache:/tmp/cache <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  -e TZ<span style=color:#f92672>=</span>Europe/Dublin <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  -e FRIGATE_RTSP_PASSWORD<span style=color:#f92672>=</span>XXXXXX <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  --shm-size<span style=color:#f92672>=</span>64m <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>  ghcr.io/blakeblackshear/frigate:stable
</code></pre></div><p>Access it at: <code>http://localhost:5001</code></p><h2 id=was-it-worth-it>Was It Worth It?</h2><p>For a weekend project that cost me €0 (using hardware I already had)? Absolutely.</p><p>Did I learn that maybe €70 for a proper outdoor camera is money well spent? Also yes.</p><p>Would I recommend this approach? If you have spare hardware and want to learn - yes. If you just want security that works - buy a proper camera and save yourself the debugging.</p><p>But where&rsquo;s the fun in that?</p><hr><p><strong>Next steps for me:</strong></p><ul><li>Order that Reolink camera</li><li>Set up proper zones so it only alerts for the driveway, not every car passing by</li><li>Maybe add more cameras</li><li>Definitely remove the iPhone before it becomes a fire hazard</li></ul><p>If you&rsquo;re in Dublin and dealing with similar security concerns, I hope this helps. The tools exist, they&rsquo;re mostly free and open source, and they actually work once you get past the initial setup hurdles.</p><p>Just&mldr; maybe don&rsquo;t use an iPhone 8 as your permanent solution. Learn from my questionable choices.</p><hr><p><em>Have questions about the setup? Tried this yourself? Let me know in the comments. I promise I&rsquo;m better at responding to comments than I am at choosing camera apps on the first try.</em></p></section></article><a class=twitter href="https://twitter.com/intent/tweet?text=https%3a%2f%2faneesahammed.github.io%2fposts%2fdiy_home_security%2f - DIY%20home%20Security%20System%20with%20an%20Old%20iPhone by @%40aneesahammed"><span class=icon-twitter>tweet</span></a>
<a class=facebook href=# onclick="return window.open('https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),'facebook-share-dialog','width=626,height=436'),!1"><span class=icon-facebook-rect>Share</span></a><div id=disqus_thread></div><script type=text/javascript>var disqus_shortname='quarks';(function(){var a=document.createElement('script');a.type='text/javascript',a.async=!0,a.src='//'+disqus_shortname+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div><footer id=footer><div id=social><a class=symbol href=https://dev.to/aneesahammed><i class="fa fa-delicious"></i></a><a class=symbol href=https://www.github.com/aneesahammed><i class="fa fa-github-square"></i></a><a class=symbol href=https://www.linkedin.com/in/aneesahammed/><i class="fa fa-linkedin-square"></i></a><a class=symbol href=https://www.twitter.com/aneesahammed><i class="fa fa-twitter-square"></i></a></div><p class=small>© Copyright 2025 <i class="fa fa-heart" aria-hidden=true></i>anees ahammed</p><p class=small>Powered by <a href=http://www.gohugo.io/>Hugo</a> Theme By <a href=https://github.com/nodejh/hugo-theme-cactus-plus>nodejh</a></p></footer></section><script src=https://aneesahammed.github.io/js/jquery-3.3.1.min.js></script><script src=https://aneesahammed.github.io/js/main.js></script><script src=https://aneesahammed.github.io/js/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-128646227-1','auto'),ga('send','pageview'))</script></body></html>